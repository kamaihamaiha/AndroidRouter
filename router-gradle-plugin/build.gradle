// 引入 groovy 插件，编译插件工程中的代码
apply plugin: 'groovy'

// 声明仓库地址
repositories {
    jcenter()
}

// 声明依赖的包
dependencies {
    implementation gradleApi()
    implementation localGroovy()
}

// 调用 maven，用于发布
apply plugin: 'maven'

// 配置 maven 插件中的 UploadArchives 任务
uploadArchives {
    repositories {
        mavenDeployer{
            // 设置发布路径为工程根据录下的 repo 文件夹
            repository(url: uri('../repo'))

            // 设置 groupId, 通常为包名
            pom.groupId = 'com.kk.router'

            // 设置 ArtifactId, 为当前插件的名称
            pom.artifactId = 'router-gradle-plugin'

            // 设置插件版本号
            pom.version = '1.0.0'
        }
    }
}